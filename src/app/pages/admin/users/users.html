<div class="max-w-7xl mx-auto w-full space-y-8">
  
  <!-- HEADER -->
  <div class="flex flex-col md:flex-row md:items-center justify-between gap-6">
    <div>
      <h1 class="text-3xl font-uni-black text-uni-white tracking-tight">User Management</h1>
      <p class="text-sm text-gray-400 mt-1">Manage platform users, roles, and permissions.</p>
    </div>

    <div class="flex items-center gap-4">
      <!-- Search Bar -->
      <div class="hidden lg:flex items-center relative w-80 group">
         <lucide-icon [img]="Search" [size]="18" class="absolute left-2 top-1.5 text-gray-500 group-focus-within:text-uni-500 transition-colors"></lucide-icon>
         <input type="text" placeholder="Search users by name, email..." 
                class="w-full bg-gray-950 border border-uni-white/10 rounded-full py-2.5 pl-11 pr-4 text-sm text-uni-white placeholder-gray-600 focus:outline-none focus:border-uni-500 focus:ring-1 focus:ring-uni-500 transition-all">
      </div>

      <button class="flex items-center gap-2 px-4 py-2.5 bg-gray-900 border border-uni-white/10 rounded-xl hover:bg-uni-white/5 transition-all font-bold text-sm text-gray-300 hover:text-uni-white active:scale-95">
        <lucide-icon [img]="Filter" [size]="18"></lucide-icon>
        Filter
      </button>
    </div>
  </div>

  <!-- USERS TABLE -->
  <div class="bg-gray-900 border border-uni-white/5 rounded-3xl overflow-hidden shadow-2xl shadow-uni-black/20">
    
    <!-- Table Content -->
    <div class="overflow-x-auto">
      <table class="w-full text-left">
        <thead>
          <tr class="text-[10px] font-bold text-gray-500 uppercase tracking-widest border-b border-uni-white/5 bg-gray-900/50 backdrop-blur-sm">
            <th class="px-6 py-4">User Details</th>
            <th class="px-6 py-4">Role</th>
            <th class="px-6 py-4">Contact</th>
            <th class="px-6 py-4">Status</th>
            <th class="px-6 py-4 text-right">Actions</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-uni-white/5 text-sm">
          
          <tr #tableRow *ngFor="let user of users" class="group hover:bg-uni-white/2 transition-colors">
            <!-- User -->
            <td class="px-6 py-4">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-full bg-linear-to-tr from-gray-700 to-gray-800 p-px">
                  <img [src]="'https://ui-avatars.com/api/?name=' + user.name + '&background=random'" alt="" class="rounded-full w-full h-full object-cover">
                </div>
                <div>
                  <div class="font-bold text-uni-white group-hover:text-uni-500 transition-colors">{{ user.name }}</div>
                  <div class="text-xs text-gray-500 font-mono mt-0.5">ID: #{{ user.id }}</div>
                </div>
              </div>
            </td>
            
            <!-- Role -->
            <td class="px-6 py-4">
              <span class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-bold border"
                [ngClass]="user.role === 'COURIER' 
                  ? 'bg-blue-500/10 text-blue-500 border-blue-500/20' 
                  : 'bg-indigo-500/10 text-indigo-500 border-indigo-500/20'">
                @switch (user.role) {
                  @case ('COURIER') {
                    <lucide-icon [img]="Bike" [size]="12"></lucide-icon>
                  }
                  @case ('SENDER') {
                    <lucide-icon [img]="Package" [size]="12"></lucide-icon>
                  }
                }
                {{ user.role }}
              </span>
            </td>
            
            <!-- Contact -->
            <td class="px-6 py-4">
              <div class="flex items-center gap-2 text-gray-400 font-medium">
                <lucide-icon [img]="Mail" [size]="14" class="text-gray-600"></lucide-icon>
                {{ user.email }}
              </div>
            </td>

            <!-- Status -->
            <td class="px-6 py-4">
              <span class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-xs font-bold border"
                [ngClass]="{
                  'bg-uni-500/10 text-uni-500 border-uni-500/20': !user.isBlocked,
                  'bg-red-500/10 text-red-500 border-red-500/20': user.isBlocked
                }">
                <lucide-icon [img]="CheckCircle" [size]="12" *ngIf="!user.isBlocked"></lucide-icon>
                <lucide-icon [img]="Ban" [size]="12" *ngIf="user.isBlocked"></lucide-icon>
                {{ user.isBlocked ? 'BLOCKED' : 'ACTIVE' }}
              </span>
            </td>

            <!-- Actions -->
            <td class="px-6 py-4 text-right">
              <div class="flex justify-end gap-2">
                <button (click)="toggleBlock(user)" 
                  class="p-2 rounded-lg transition-all border border-transparent"
                  [ngClass]="user.isBlocked 
                    ? 'text-uni-500 hover:bg-uni-500/10 hover:border-uni-500/20' 
                    : 'text-red-500 hover:bg-red-500/10 hover:border-red-500/20'"
                  [title]="user.isBlocked ? 'Unblock User' : 'Block User'">
                  @if (user.isBlocked) {
                    <lucide-icon [img]="CheckCircle" [size]="18"></lucide-icon>
                  } @else {
                    <lucide-icon [img]="Ban" [size]="18"></lucide-icon>
                  }
                </button>
                <button class="text-gray-500 hover:text-uni-white p-2 hover:bg-uni-white/5 rounded-lg transition-all border border-transparent hover:border-uni-white/10">
                  <lucide-icon [img]="MoreVertical" [size]="18"></lucide-icon>
                </button>
              </div>
            </td>
          </tr>

        </tbody>
      </table>
    </div>

    <!-- Pagination (Static for visual) -->
    <div class="p-4 border-t border-uni-white/5 bg-gray-900/50 flex justify-between items-center text-xs text-gray-500 font-bold uppercase tracking-wider">
      <span>Showing 6 of 142 Users</span>
      <div class="flex gap-2">
        <button class="px-3 py-1.5 rounded-lg bg-uni-white/5 hover:bg-uni-white/10 transition-colors disabled:opacity-50">Prev</button>
        <button class="px-3 py-1.5 rounded-lg bg-uni-white/5 hover:bg-uni-white/10 transition-colors">Next</button>
      </div>
    </div>

  </div>
</div>

